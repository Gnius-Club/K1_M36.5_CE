<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Playbook - MisiÃ³n 36.5</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            line-height: 1.6;
            margin: 0;
            padding: 0;
            background-color: #f4f4f4;
        }
        .container {
            max-width: 800px;
            margin: 20px auto;
            background: #fff;
            padding: 20px;
            border-radius: 8px;
            box-shadow: 0 0 10px rgba(0,0,0,0.1);
        }
        .header {
            background-color: #5DADE2; /* Azul Gnius */
            color: white;
            padding: 15px;
            text-align: center;
            border-radius: 8px 8px 0 0;
        }
        .header h1 {
            margin: 0;
            font-size: 1.8em;
        }
        .banner {
            background-color: #85C1E9; /* Azul mÃ¡s claro */
            color: #333;
            padding: 15px;
            cursor: pointer;
            margin-bottom: 10px;
            border-radius: 5px;
            transition: background-color 0.3s ease;
        }
        .banner:hover {
            background-color: #AED6F1;
        }
        .banner .title {
            font-size: 1.3em;
            font-weight: bold;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        .banner .subtitle {
            font-size: 1em;
            margin-top: 8px;
            border-top: 1px solid #fff;
            padding-top: 8px;
            color: #1A5276; /* Azul oscuro texto */
        }
        .content {
            display: none;
            padding: 15px;
            border: 1px solid #ddd;
            margin-bottom: 10px;
            background-color: #EAF2F8; /* Azul muy claro fondo */
            border-radius: 5px;
        }
        .dialogue {
            background-color: #FEF9E7; /* Amarillo pÃ¡lido para diÃ¡logo */
            border: 1px solid #FAD7A0;
            border-radius: 10px;
            padding: 10px 15px;
            margin: 15px 0;
            text-align: left; /* Cambiado a izquierda para mejor lectura */
            font-style: italic;
            color: #784212; /* MarrÃ³n oscuro texto */
            position: relative; /* Para el bocadillo */
            border-left: 5px solid #F39C12; /* Naranja */
        }

        .dropdown {
            margin-bottom: 25px;
            text-align: center; /* Centrar dropdown */
        }
        .dropdown label {
            font-weight: bold;
            color: #1A5276;
        }
        .dropdown select {
            font-size: 1.1em;
            padding: 8px 12px;
            margin-left: 10px;
            border-radius: 5px;
            border: 1px solid #85C1E9;
        }
        table { width: 100%; border-collapse: collapse; margin-top: 10px;}
        td { padding: 12px; border: 1px solid #AED6F1; vertical-align: top; }
        td strong { color: #1A5276; }
        .level-title { /* Clase especÃ­fica para el tÃ­tulo del nivel */
             text-align: center;
             color: #5DADE2;
             font-size: 1.4em;
             margin-bottom: 20px;
        }
        /* Clases para ocultar/mostrar contenido por nivel */
        .k1-content, .k2-content, .k3-content { display: none; }
         .activity.active .banner {
             background-color: #AED6F1; /* Slightly different color when active */
         }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>Playbook - MisiÃ³n 36.5: Â¡Los Cazadores de Errores de las Cuevas de Cristal!</h1>
        </div>

        <div class="dropdown">
            <label for="class-level">Nivel:</label>
            <select id="class-level" onchange="updateContent()">
                <option value="K1">K1 (3 aÃ±os)</option>
                <option value="K2">K2 (4 aÃ±os)</option>
                <option value="K3">K3 (5 aÃ±os)</option>
            </select>
        </div>

        <h2 id="selected-level" class="level-title">Nivel: K1 (3 aÃ±os)</h2>

        <!-- ............................................AquÃ­ empezarÃ¡n las actividades........................................... -->

<!-- Actividad 0: RevisiÃ³n de Materiales -->
<div id="activity-0" class="activity">
    <div class="banner" onclick="toggleContent('revision_materiales')">
        <div class="title">ğŸ“š Actividad 0: RevisiÃ³n de Materiales</div>
        <div class="subtitle">Objetivo: Asegurarse de que todos los materiales necesarios para la clase estÃ©n disponibles y preparados antes de que lleguen los niÃ±os.</div>
    </div>
    <div id="revision_materiales" class="content">
        <table>
            <tr>
                <td><strong>PASO 1 (N/A):</strong> Revisa que tengas listos los materiales indicados en la **DIAPOSITIVA 1**: 1 Set LEGO Coding Express (tren, vÃ­as rectas/curvas/loop, ladrillos acciÃ³n rojo, amarillo, blanco, azul) y 10 iBricks por cada pareja.</td>
                <td><strong>DIÃLOGO SUGERIDO:</strong> N/A</td>
            </tr>
        </table>
    </div>
</div>

<!-- Actividad 1: Bienvenida e IntroducciÃ³n -->
<div id="activity-1" class="activity">
    <div class="banner" onclick="toggleContent('bienvenida')">
        <div class="title">ğŸ‰ Actividad 1: Â¡Ups! Â¿Algo SaliÃ³ Mal? â° Tiempo: 1 minuto</div>
        <div class="subtitle">Objetivo: Introducir la idea de que a veces los planes o las mÃ¡quinas tienen "errores" (bugs) y hay que encontrarlos y arreglarlos (depurar).</div>
    </div>
    <div id="bienvenida" class="content">
        <table>
            <tr>
                <td><strong>PASO 1 (0.5 minutos):</strong> Reproduce la **DIAPOSITIVA 2** â€œBienvenidaâ€. Saluda al CODE SQUAD y pregunta si alguna vez un juguete no funcionÃ³ como esperaban o si un plan cambiÃ³ a Ãºltimo momento.</td>
                <td>
                    <div class="dialogue">
                        "Â¡Hola, sÃºper solucionadores del CODE SQUAD! Â¿Alguna vez les ha pasado que quieren hacer algo, como armar un juguete, y Â¡ups! Â¿una pieza no encaja o algo no funciona bien? Â¡A veces, hasta los mejores planes tienen pequeÃ±os problemitas o 'bichitos' escondidos!"
                    </div>
                </td>
            </tr>
            <tr>
                <td><strong>PASO 2 (0.5 minutos):</strong> Reproduce la **DIAPOSITIVA 3** "Gimnasio CODE SQUAD". Explica que ser un buen solucionador implica observar, encontrar el problema y pensar cÃ³mo arreglarlo.</td>
                <td>
                     <div class="dialogue">
                        "Â¡Cuando algo no funciona, los genios como ustedes no se rinden! Â¡Se convierten en detectives! Observan con atenciÃ³n, encuentran dÃ³nde estÃ¡ el 'bichito' o el error, Â¡y piensan en una soluciÃ³n para arreglarlo! Â¡Eso se llama depurar! Â¡Vamos al Gimnasio Cerebral a entrenar nuestros ojos de detective para encontrar y arreglar problemas!"
                    </div>
                </td>
            </tr>
        </table>
    </div>
</div>

<!-- Actividad 2: Baile de Algoritmos -->
<div id="activity-2" class="activity">
    <div class="banner" onclick="toggleContent('baile-algoritmos')">
        <div class="title">ğŸ¶ Actividad 2: Baile de Algoritmos â° Tiempo: 2 minutos</div>
        <div class="subtitle">Objetivo: Practicar el seguimiento preciso de secuencias para poder identificar luego cuÃ¡ndo algo se desvÃ­a del plan.</div>
    </div>
    <div id="baile-algoritmos" class="content">
        <table>
            <tr>
                <td><strong>PASO 1 (2 minutos):</strong> Reproduce la **DIAPOSITIVA 4** â€œBaile de Algoritmosâ€. GuÃ­a el baile, quizÃ¡s haciendo una pausa y preguntando "Â¿QuÃ© paso sigue ahora?" para verificar la secuencia.</td>
                 <td>
                     <div class="dialogue">
                        "Â¡Bailemos siguiendo el plan! Â¡Cada paso es importante! Â¡Adelante, vuelta, salto! Â¿QuÃ© viene despuÃ©s? Â¡Hay que estar atentos a la secuencia! Â¡AsÃ­, si algo cambia, nos daremos cuenta rÃ¡pido! Â¡MÃºsica!"
                    </div>
                </td>
            </tr>
        </table>
    </div>
</div>

<!-- Actividad 3: Planteamiento del Problema - Â¡ObstÃ¡culos en la Cueva de Cristal! -->
<div id="activity-3" class="activity">
    <div class="banner" onclick="toggleContent('planteamiento-problema')">
        <div class="title">ğŸ’ Actividad 3: Â¡Cristales Bloqueados! â° Tiempo: 3 minutos</div>
        <div class="subtitle">Objetivo: Presentar la historia de la entrega de cristales, el plan original y la apariciÃ³n de un "error" o problema inesperado en la ruta.</div>
    </div>
    <div id="planteamiento-problema" class="content">
        <table>
            <tr>
                <td><strong>PASO 1 (1.5 minutos):</strong> Reproduce la **DIAPOSITIVA 5**. Narra la historia del Coding Express transportando cristales brillantes a travÃ©s de unas cuevas.</td>
                <td>
                     <div class="dialogue">
                        "Â¡CODE SQUAD! Â¡MisiÃ³n ultra secreta! Â¡Nuestro Coding Express estÃ¡ transportando unos cristales sÃºper brillantes y mÃ¡gicos a travÃ©s de las Cuevas de Cristal! Deben llegar al Gran DepÃ³sito de Cristales al final de la cueva. Â¡Tenemos un plan perfecto para la ruta!"
                    </div>
                </td>
            </tr>
            <tr>
                <td><strong>PASO 2 (1.5 minutos):</strong> Reproduce la **DIAPOSITIVA 6**. Explica el plan original (segÃºn nivel: ruta lineal o bucle con acciones). Pero Â¡oh no! informa que puede haber un problema inesperado en la vÃ­a (un bloque caÃ­do, una seÃ±al equivocada). El reto es construir la ruta, probarla, encontrar el error y arreglarlo.</td>
                <td>
                     <div class="dialogue">
                        "Â¡Este es el plan! El tren debe seguir la ruta que diseÃ±aremos (lineal o en bucle), hacer sus seÃ±ales (sonar, luz...) y llegar al DepÃ³sito de Cristales (hecho con bloques). Â¡Parece fÃ¡cil! Â¡PERO ATENCIÃ“N! Â¡Las cuevas son impredecibles! Â¡QuizÃ¡s una roca (un bloque gigante) se cayÃ³ en medio de la vÃ­a! Â¡O quizÃ¡s una seÃ±al se cambiÃ³ sola y ahora le dice al tren que pare cuando no debe! Nuestro reto, Cazadores de Errores, es: **Primero**, construir la ruta como la planeamos. **Segundo**, probarla con el tren. **Tercero**, si algo sale mal, Â¡ser detectives, encontrar el error (el 'bichito') y arreglarlo! **Cuarto**, Â¡probar de nuevo hasta que el tren complete la misiÃ³n!"
                    </div>
                </td>
            </tr>
        </table>
    </div>
</div>

<!-- Actividad 4: FormaciÃ³n de Parejas -->
<div id="activity-4" class="activity">
    <div class="banner" onclick="toggleContent('formacion-parejas')">
        <div class="title">ğŸ¤ Actividad 4: Â¡Equipos de Cazadores de Errores! â° Tiempo: 3 minutos</div>
        <div class="subtitle">Objetivo: Formar parejas para construir la ruta, identificar y solucionar juntos los problemas (bugs).</div>
    </div>
    <div id="formacion-parejas" class="content">
        <table>
            <tr>
                <td><strong>PASO 1 (2 minutos):</strong> Reproduce la **DIAPOSITIVA 7** â€œFormaciÃ³n de Equiposâ€. Explica que encontrar y arreglar errores es mÃ¡s fÃ¡cil y rÃ¡pido cuando se hace en equipo. Forma las parejas.</td>
                <td>
                     <div class="dialogue">
                        "Â¡Encontrar 'bichitos' escondidos en un plan requiere ojos de Ã¡guila y mentes astutas! Â¡Y dos Cazadores de Errores trabajando juntos pueden encontrar y aplastar cualquier 'bug' mucho mÃ¡s rÃ¡pido! Â¡Formen sus Equipos de Cazadores de Errores!"
                    </div>
                </td>
            </tr>
            <tr>
                <td><strong>PASO 2 (1 minuto):</strong> Verifica que todos tengan pareja. AnÃ­males a preparar su "zona de cuevas" y a estar listos para construir la ruta planeada.</td>
                <td>
                     <div class="dialogue">
                        "Â¿Listos, Cazadores? Â¡Preparen su espacio para construir las Cuevas de Cristal! NecesitarÃ¡n vÃ­as, bloques para decorar y marcar el depÃ³sito, los ladrillos de acciÃ³n... Â¡y su lupa de detective imaginaria! Â¡Vamos a construir la ruta planeada!"
                    </div>
                </td>
            </tr>
        </table>
    </div>
</div>

<!-- Actividad 5: Reto de CodificaciÃ³n - Â¡Construye la Ruta... con un 'Bug'! -->
<div id="activity-5" class="activity">
    <div class="banner" onclick="toggleContent('reto-codificacion')">
        <div class="title">ğŸ› Actividad 5: Â¡Armando la Cueva... y el Problema! â° Tiempo: 7 minutos</div>
        <div class="subtitle">Objetivo: Construir la ruta planeada (lineal o bucle) y colocar los ladrillos de acciÃ³n segÃºn el plan. El maestro (o los niÃ±os mÃ¡s adelante) introduce el "bug" sin que lo noten inicialmente (o se les dice que "algo podrÃ­a estar mal").</div>
    </div>
    <div id="reto-codificacion" class="content">
        <table>
             <!-- Paso 1: Construir la Ruta Base -->
             <tr>
                <td><strong>PASO 1 (4 minutos):</strong> Reproduce la **DIAPOSITIVA 8** "Â¡Construye la Ruta Planeada!". GuÃ­a para construir la ruta segÃºn el nivel (lineal K1, bucle K2/K3) y colocar los ladrillos de acciÃ³n como si todo fuera perfecto. Usar iBricks para DepÃ³sito de Cristales.</td>
                 <td>
                     <div class="dialogue">
                        "Â¡Manos a la obra, equipos! Construyan la ruta exacta que tenÃ­amos planeada para llevar los cristales. Â¡Recuerden el orden de las acciones! (Repasa brevemente el plan K1/K2/K3). Coloquen las vÃ­as y los ladrillos de acciÃ³n CORRECTOS en su lugar. Â¡Y hagan el DepÃ³sito de Cristales al final con bloques!"
                    </div>
                </td>
            </tr>
            <!-- Paso 2: Introducir el Bug (Maestro o niÃ±os) -->
             <!-- K1 -->
            <tr class="k1-content">
                <td><strong>PASO 2 - K1 (3 minutos):</strong> Reproduce la **DIAPOSITIVA 9** "Plan K1: Sonido-Luz-Parada... Â¿Seguro?". Plan: VÃ­a recta, Amarillo->Blanco->Rojo->DepÃ³sito. **Bug Introducido:** Maestro coloca discretamente 1 iBrick bloqueando la vÃ­a DESPUÃ‰S del ladrillo Amarillo.</td>
                 <td>
                     <div class="dialogue">
                        "Â¡Equipo K1! Su plan era: Sonido (Amarillo), luego Luz (Blanco), y Parar (Rojo) en el DepÃ³sito. Â¡Construyan eso! Pongan Amarillo, luego Blanco, luego Rojo cerca del depÃ³sito. (Mientras no miran, o abiertamente diciendo 'oh, creo que se cayÃ³ una roca'), coloca un bloque en la vÃ­a despuÃ©s del Amarillo. Â¡Listos para probar... si la cueva nos deja!"
                    </div>
                </td>
            </tr>
             <!-- K2 -->
             <tr class="k2-content">
                 <td><strong>PASO 2 - K2 (3 minutos):</strong> Reproduce la **DIAPOSITIVA 10** "Plan K2: Bucle Sonido-Luz... Â¿Seguro?". Plan: Bucle simple, pasar por Amarillo->Blanco->Azul (Reversa) en cada vuelta. **Bug Introducido:** Maestro sustituye el ladrillo BLANCO por uno ROJO (Parar).</td>
                 <td>
                     <div class="dialogue">
                        "Â¡Equipos K2! Su plan era un bucle que hiciera: Sonido (Amarillo), luego Luz (Blanco), luego Reversa (Azul). Â¡Construyan el bucle y pongan los ladrillos en ese orden! (Mientras, cambia el Blanco por un Rojo). Â¡Uy! Â¿EstÃ¡n seguros de que pusieron los ladrillos correctos? Â¡Parece que una seÃ±al de la cueva cambiÃ³! Â¡PrepÃ¡rense para probar!"
                    </div>
                </td>
            </tr>
             <!-- K3 -->
             <tr class="k3-content">
                 <td><strong>PASO 2 - K3 (3 minutos):</strong> Reproduce la **DIAPOSITIVA 11** "Plan K3: Ruta Compleja... Â¿Seguro?". Plan: Ruta con curva/desvÃ­o, secuencia Amarillo->Curva->Blanco->Azul(Reversa)->Rojo(Parar). **Bugs Introducidos:** Maestro coloca 1 iBrick bloqueando DESPUÃ‰S de la curva Y sustituye el ladrillo AZUL por uno AMARILLO (Sonar).</td>
                 <td>
                     <div class="dialogue">
                        "Â¡Maestros K3! Su ruta era: Sonido (Amarillo), tomar la Curva, luego Luz (Blanco), luego Reversa (Azul) y Parar (Rojo) al final. Â¡Construyan! (Mientras, coloca un bloque despuÃ©s de la curva y cambia el Azul por Amarillo). Â¡Oh, oh! Â¡Parece que esta cueva es traviesa! Â¡Hay una roca inesperada Y creo que una seÃ±al de sonido se colÃ³ donde no debÃ­a! Â¡Vamos a tener que ser buenos detectives al probar!"
                    </div>
                </td>
            </tr>
        </table>
    </div>
</div>

<!-- Actividad 6: Â¡A la Caza del Error! -->
<div id="activity-6" class="activity">
    <div class="banner" onclick="toggleContent('probando-debug')">
        <div class="title">ğŸ Actividad 6: Â¡Prueba, Encuentra y Arregla! â° Tiempo: 10 minutos</div>
        <div class="subtitle">Objetivo: Realizar una prueba inicial, identificar el error (con ayuda si es necesario), corregirlo (quitar bloque/cambiar ladrillo) y volver a probar para verificar la soluciÃ³n.</div>
    </div>
    <div id="probando-debug" class="content">
        <table>
             <!-- Paso 1: Prueba Inicial y DetecciÃ³n del Error -->
             <tr>
                <td><strong>PASO 1 (3 minutos):</strong> Reproduce la **DIAPOSITIVA 12** (K1), **13** (K2) o **14** (K3) - Parte A: "Â¡Prueba 1: Algo Falla!". Pide que prueben la ruta empujando el tren. Observar el fallo.</td>
                 <td>
                     <div class="dialogue">
                        "Â¡Cazadores de Errores! Â¡Es hora de la primera prueba! Pongan el tren al inicio con sus cristales. Â¡EmpujÃ³n suave! Â¡Observen con atenciÃ³n! ... Â¡Oh, no! Â¿QuÃ© pasÃ³? Â¿Por quÃ© no funcionÃ³ como planeamos? (K1: Â¡Se chocÃ³! K2: Â¡ParÃ³ antes! K3: Â¡Se chocÃ³ Y/O hizo un sonido raro!). Â¡Hemos encontrado un 'bug', un error en la cueva!"
                    </div>
                </td>
            </tr>
             <!-- Paso 2: Debugging - Encontrar y Corregir -->
             <tr>
                 <td><strong>PASO 2 (4 minutos):</strong> Reproduce la **DIAPOSITIVA 12/13/14** - Parte B: "Â¡A Depurar! Â¿QuÃ© estÃ¡ Mal?". GuÃ­a la observaciÃ³n: "Â¿Ven algo bloqueando? (K1/K3). Â¿Este ladrillo (Rojo K2, Amarillo K3) es el que planeamos poner ahÃ­? Â¿CuÃ¡l deberÃ­a ir?". Ayuda a quitar el bloque o cambiar el ladrillo incorrecto por el correcto.</td>
                 <td>
                     <div class="dialogue">
                        "Â¡Detectives, a investigar! Miren bien la vÃ­a donde el tren fallÃ³. Â¿Hay algo que no deberÃ­a estar ahÃ­? (SeÃ±ala el bloque K1/K3). Â¡Una roca! Â¡Hay que quitarla! // (Para K2/K3): Miren este ladrillo donde fallÃ³. Â¿Era este (Rojo/Amarillo) el que dibujamos en el plan? Â¿O era otro (Blanco/Azul)? Â¡AhÃ¡! Â¡Esta seÃ±al estÃ¡ equivocada! Â¡CambiÃ©mosla por la correcta! Â¡Vamos a arreglar el problema!"
                    </div>
                </td>
            </tr>
             <!-- Paso 3: Prueba Final - Verificar SoluciÃ³n -->
             <tr>
                 <td><strong>PASO 3 (3 minutos):</strong> Reproduce la **DIAPOSITIVA 12/13/14** - Parte C: "Â¡Prueba 2: Ruta Corregida!". Pide que vuelvan a probar la ruta con el error corregido. Observar si ahora funciona correctamente.</td>
                 <td>
                     <div class="dialogue">
                        "Â¡Muy bien, equipo! Â¡Hemos arreglado el problema! Â¡Quitaron la roca / Cambiaron la seÃ±al! Â¡Ahora, la prueba final! Â¡Tren al inicio de nuevo! Â¡EmpujÃ³n! Â¡Crucen los dedos! Miren... Â¿Funciona ahora? Â¿Llega al final? Â¿Hace las acciones correctas? Â¡SÃIIIII! Â¡Han cazado y eliminado el 'bug'! Â¡Son expertos depuradores!"
                    </div>
                </td>
            </tr>
        </table>
    </div>
</div>

<!-- Actividad 7 OMITIDA -->

<!-- Actividad 8: ConclusiÃ³n y ReflexiÃ³n -->
<div id="activity-8" class="activity">
    <div class="banner" onclick="toggleContent('conclusion-reflexion')">
        <div class="title">ğŸ Actividad 8: Â¡Cazadores de Errores Victoriosos! â° Tiempo: 5 minutos</div>
        <div class="subtitle">Objetivo: Celebrar la habilidad de encontrar y corregir errores (depuraciÃ³n), reforzar que es una parte normal e importante del proceso de codificaciÃ³n/planificaciÃ³n.</div>
    </div>
    <div id="conclusion-reflexion" class="content">
        <table>
            <tr>
                <td><strong>PASO 1 (5 minutos):</strong> Reproduce la **DIAPOSITIVA 15** "Â¡MisiÃ³n Cumplida!". ReÃºne al grupo, felicita por superar los obstÃ¡culos y entregar los cristales. Realiza preguntas sobre el proceso de depuraciÃ³n.</td>
                <td>
                    <div class="dialogue">
                        "Â¡MISIÃ“N CUMPLIDA, increÃ­bles Cazadores de Errores del CODE SQUAD! Â¡A pesar de las rocas caÃ­das y las seÃ±ales confusas de la cueva, encontraron los problemas, los arreglaron y lograron entregar los cristales brillantes! Â¡Son geniales resolviendo problemas! Pensemos en esta aventura de depuraciÃ³n:
1. Â¿QuÃ© pasÃ³ la primera vez que probamos el tren? (Â¡No funcionÃ³! Â¡Hubo un error/bug!)
2. Â¿QuÃ© hicimos para arreglarlo? (Â¡Miramos bien! Â¡Encontramos el problema! Â¡Quitamos el bloque / Cambiamos el ladrillo!)
3. Â¿FuncionÃ³ mejor la segunda vez? (Â¡SÃ­!) Â¿Es normal que a veces las cosas no salgan bien a la primera y tengamos que arreglarlas? (Â¡Claro que sÃ­!)
Â¡Hoy aprendimos algo sÃºper importante! A veces, nuestros planes o cÃ³digos tienen pequeÃ±os 'bugs' o errores. Â¡Pero lo importante es ser buenos detectives, encontrarlos y arreglarlos! Â¡Eso se llama DEPURAR y es lo que hacen los mejores programadores y solucionadores de problemas del mundo! Â¡Estoy muy orgulloso de ustedes! Â¡Hasta la prÃ³xima misiÃ³n!"
                    </div>
                </td>
            </tr>
        </table>
    </div>
</div>

        <!-- ............................................AquÃ­ terminarÃ¡n las actividades........................................... -->

    </div>

<script>
    function toggleContent(id) {
        var content = document.getElementById(id);
        var parentActivity = content.closest('.activity'); // Encuentra el contenedor de la actividad
        if (content.style.display === "block") {
            content.style.display = "none";
            parentActivity.classList.remove('active'); // Remueve clase activa si se cierra
        } else {
             // Opcional: Cierra otros contenidos abiertos antes de abrir uno nuevo
             // closeAllContents();
            content.style.display = "block";
            parentActivity.classList.add('active'); // AÃ±ade clase activa si se abre
        }
    }

    // FunciÃ³n opcional para cerrar todos los demÃ¡s contenidos al abrir uno
    /*
    function closeAllContents() {
        var allContents = document.querySelectorAll('.content');
        var allActivities = document.querySelectorAll('.activity');
        allContents.forEach(function(content) {
            content.style.display = 'none';
        });
         allActivities.forEach(function(activity) {
             activity.classList.remove('active');
         });
    }
    */

    function updateContent() {
        var level = document.getElementById("class-level").value;
        // Actualiza el texto del tÃ­tulo H2
        var levelText = document.getElementById("class-level").options[document.getElementById("class-level").selectedIndex].text;
        document.getElementById("selected-level").innerText = "Nivel: " + levelText;

        // Oculta todas las filas de contenido especÃ­fico de nivel primero
        var k1Contents = document.querySelectorAll('.k1-content');
        var k2Contents = document.querySelectorAll('.k2-content');
        var k3Contents = document.querySelectorAll('.k3-content');

        k1Contents.forEach(function(el) { el.style.display = 'none'; });
        k2Contents.forEach(function(el) { el.style.display = 'none'; });
        k3Contents.forEach(function(el) { el.style.display = 'none'; });

        // Muestra solo las filas del nivel seleccionado
        // Usamos 'table-row' porque estamos mostrando/ocultando filas de tabla (<tr>)
        var selectedContents = document.querySelectorAll('.' + level.toLowerCase() + '-content');
        selectedContents.forEach(function(el) {
             // Importante: Necesitamos asegurarnos de que el display sea correcto para filas de tabla
             if (el.tagName === 'TR') {
                 el.style.display = 'table-row';
             } else {
                 // Si por alguna razÃ³n hay otros elementos, usar 'block' o ajustar segÃºn sea necesario
                 el.style.display = 'block';
             }
        });
    }

    // Asegura que updateContent se ejecute cuando la pÃ¡gina cargue
    document.addEventListener('DOMContentLoaded', function() {
        updateContent();
    });
</script>

</body>
</html>